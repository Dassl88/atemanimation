<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Rauchfrei Tracker Pro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      padding: 20px;
      background-color: #000;
      font-family: Arial, sans-serif;
      color: white;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    .input-block {
      text-align: center;
      margin-bottom: 30px;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      margin: 5px;
      border-radius: 8px;
      border: none;
    }
    button {
      background-color: #10b981;
      color: white;
      cursor: pointer;
    }
    .grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .reel {
      background: #111;
      border-radius: 16px;
      padding: 20px;
      width: 220px;
      text-align: center;
    }
    .progress-circle {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: conic-gradient(#10b981 0%, #333 0%);
      margin: 10px auto;
      position: relative;
    }
    .progress-circle span {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 18px;
      color: white;
    }
    .info-box {
      background: #111;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .category-block {
      margin-bottom: 30px;
    }
    .category-title {
      font-size: 20px;
      text-align: center;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <h1>üö≠ Rauchfrei Tracker Pro</h1>

  <div class="input-block">
    <label>Aufh√∂rdatum & Uhrzeit:</label><br />
    <input type="datetime-local" id="quitDate" /><br />

    <label>Zigaretten pro Tag:</label><br />
    <input type="number" id="cigsPerDay" value="20" /><br />

    <label>Preis pro Schachtel (‚Ç¨):</label><br />
    <input type="number" id="packPrice" value="8" step="0.01" /><br />

    <label>Zigaretten pro Schachtel:</label><br />
    <input type="number" id="cigsPerPack" value="20" /><br />

    <label>Dein Alter (in Jahren):</label><br />
    <input type="number" id="age" /><br />

    <label>Dein Gewicht (in kg):</label><br />
    <input type="number" id="weight" /><br />

    <label>Wie lange hast du geraucht (in Jahren):</label><br />
    <input type="number" id="yearsSmoked" /><br />

    <button onclick="showProgress()">Fortschritt anzeigen</button>
    <button onclick="resetData()" style="background-color: #ef4444;">Daten zur√ºcksetzen</button>
  </div>

  <div id="info" class="info-box"></div>
  <div id="reels" class="grid"></div>

  <script>
    const milestones = [
      { title: "Puls normalisiert sich", hours: 8, description: "Puls sinkt auf Normalniveau." },
      { title: "Sauerstoff steigt", hours: 12, description: "Mehr Sauerstoff im Blut." },
      { title: "CO abgebaut", hours: 24, description: "CO-Wert ist fast null." },
      { title: "Geschmack/Geruch kehrt zur√ºck", hours: 48, description: "Sinne beginnen sich zu regenerieren." },
      { title: "Hautdurchblutung steigt", hours: 72, description: "Die Haut wird besser durchblutet." },
      { title: "Lungenfunktion verbessert", hours: 168, description: "Besseres Atmen nach 1 Woche." },
      { title: "Herzinfarktrisiko sinkt", hours: 720, description: "Risiko nach einem Monat deutlich reduziert." },
      { title: "Psychische Entzugserscheinungen lassen nach", days: 7, description: "Das Verlangen wird immer weniger intensiv." },
      { title: "Besseres Selbstvertrauen", days: 14, description: "Du sp√ºrst erste Erfolge und gewinnst Vertrauen." },
      { title: "Husten wird weniger", days: 30, description: "Husten und Atembeschwerden verschwinden." },
      { title: "R√ºckfallgefahr sinkt", months: 1, description: "Nach 1 Monat sinkt die R√ºckfallgefahr deutlich." },
      { title: "Herz-Kreislaufsystem regeneriert", months: 3, description: "Das Risiko f√ºr Herzkrankheiten sinkt." },
      { title: "Lungenkapazit√§t verbessert sich", months: 6, description: "Die Lunge arbeitet effizienter." },
      { title: "Risiko f√ºr Lungenkrebs halbiert sich", years: 5, description: "Die Wahrscheinlichkeit f√ºr Lungenkrebs sinkt deutlich." },
      { title: "Risiko f√ºr Herzkrankheiten sinkt", years: 5, description: "Das Risiko f√ºr Herz-Kreislauf-Erkrankungen sinkt." },
      { title: "Lebenszeitverl√§ngerung", years: 15, description: "Durch das Aufh√∂ren steigt deine Lebenserwartung." },
    ];

    // Daten aus localStorage laden (falls vorhanden)
    window.onload = function () {
      const quit = localStorage.getItem("quitDate");
      const cigs = localStorage.getItem("cigsPerDay");
      const price = localStorage.getItem("packPrice");
      const perPack = localStorage.getItem("cigsPerPack");
      const age = localStorage.getItem("age");
      const weight = localStorage.getItem("weight");
      const yearsSmoked = localStorage.getItem("yearsSmoked");

      if (quit) document.getElementById("quitDate").value = quit;
      if (cigs) document.getElementById("cigsPerDay").value = cigs;
      if (price) document.getElementById("packPrice").value = price;
      if (perPack) document.getElementById("cigsPerPack").value = perPack;
      if (age) document.getElementById("age").value = age;
      if (weight) document.getElementById("weight").value = weight;
      if (yearsSmoked) document.getElementById("yearsSmoked").value = yearsSmoked;

      if (quit) showProgress();
    };

    function showProgress() {
      const quitInput = document.getElementById("quitDate").value;
      const cigsPerDay = parseInt(document.getElementById("cigsPerDay").value);
      const packPrice = parseFloat(document.getElementById("packPrice").value);
      const cigsPerPack = parseInt(document.getElementById("cigsPerPack").value);
      const age = parseInt(document.getElementById("age").value);
      const weight = parseInt(document.getElementById("weight").value);
      const yearsSmoked = parseInt(document.getElementById("yearsSmoked").value);

      if (!quitInput || isNaN(cigsPerDay) || isNaN(packPrice) || isNaN(cigsPerPack) || isNaN(age) || isNaN(weight) || isNaN(yearsSmoked)) {
        alert("Bitte alle Eingaben korrekt ausf√ºllen!");
        return;
      }

      // Eingaben speichern
      localStorage.setItem("quitDate", quitInput);
      localStorage.setItem("cigsPerDay", cigsPerDay);
      localStorage.setItem("packPrice", packPrice);
      localStorage.setItem("cigsPerPack", cigsPerPack);
      localStorage.setItem("age", age);
      localStorage.setItem("weight", weight);
      localStorage.setItem("yearsSmoked", yearsSmoked);

      const quitTime = new Date(quitInput);
      const now = new Date();
      const diffHours = (now - quitTime) / 1000 / 60 / 60;
      const diffDays = diffHours / 24;

      const totalCigsAvoided = Math.floor(cigsPerDay * diffDays);
      const totalMoneySaved = ((totalCigsAvoided / cigsPerPack) * packPrice).toFixed(2);
      const lifeRegainedMin = totalCigsAvoided * 11;
      const lifeRegainedHr = Math.floor(lifeRegainedMin / 60);
      const lifeRegainedMinRest = lifeRegainedMin % 60;

      const infoBox = document.getElementById("info");
      infoBox.innerHTML = `
        <h2>Dein Fortschritt</h2>
        <p><strong>Gesparte Zigaretten:</strong> ${totalCigsAvoided}</p>
        <p><strong>Gespartes Geld:</strong> ‚Ç¨ ${totalMoneySaved}</p>
        <p><strong>Zur√ºckgewonnene Lebenszeit:</strong> ${lifeRegainedHr} Stunden ${lifeRegainedMinRest} Minuten</p>
      `;

      const reelsContainer = document.getElementById("reels");
      reelsContainer.innerHTML = "";

      milestones.forEach(m => {
        let percent;
        if (m.hours) {
          percent = Math.min((diffHours / m.hours) * 100, 100);
        } else if (m.days) {
          percent = Math.min((diffDays / m.days) * 100, 100);
        } else if (m.months) {
          percent = Math.min((diffDays / 30 / m.months) * 100, 100);
        } else if (m.years) {
          percent = Math.min((diffDays / 365 / m.years) * 100, 100);
        }
        const reel = document.createElement("div");
        reel.className = "reel";
        reel.innerHTML = `
          <h3>${m.title}</h3>
          <div class="progress-circle" style="background: conic-gradient(#10b981 ${percent}%, #333 ${percent}%);">
            <span>${Math.floor(percent)}%</span>
          </div>
          <p>${m.description}</p>
          ${percent === 

